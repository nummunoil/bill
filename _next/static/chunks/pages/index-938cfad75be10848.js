(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(25)}])},25:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var l=s(5893),a=s(9008),n=s.n(a),r=s(5675),i=s.n(r),o=s(7294),c=s(1355),d=s(8330);function m(e){let{toggle:t,setToggle:s,setPp:a}=e,n=(0,o.useRef)(null),[r,i]=(0,o.useState)(""),[m,x]=(0,o.useState)(!0);(0,o.useEffect)(()=>{t&&x(!0)},[t]);let u=()=>{a(r),localStorage.setItem("pp",r),x(!1),s(!t)};return(0,l.jsx)(c.u.Root,{show:m,as:o.Fragment,children:(0,l.jsxs)(d.V,{as:"div",className:"relative z-10",initialFocus:n,onClose:x,children:[(0,l.jsx)(c.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,l.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-start justify-center p-4 text-center sm:items-center sm:p-0",children:(0,l.jsx)(c.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,l.jsxs)(d.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,l.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,l.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,l.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-blue-700",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})})}),(0,l.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,l.jsx)(d.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"เพิ่มหมายเลขพร้อมเพย์"}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"ระบุเบอร์โทรศัพท์หรือหมายเลขบัตรประชาชนที่ผูกพร้อมเพย์เพื่อรับเงิน"}),(0,l.jsx)("input",{className:"block w-full mt-1 rounded-md border-0 px-3 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",name:"prompt_pay",id:"prompt_pay",type:"number",value:r,onChange:e=>i(e.target.value)})]})]})]})}),(0,l.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,l.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto",onClick:()=>u(),children:"บันทึก"}),(0,l.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>{x(!1),s(!t)},ref:n,children:"ยกเลิก"})]})]})})})})]})})}let x=()=>{let[e,t]=(0,o.useState)(""),[s,a]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=localStorage.getItem("pp");e&&t(e)},[]);let n=()=>{a(!0)};return(0,l.jsxs)("div",{children:[s&&(0,l.jsx)(m,{toggle:s,setPp:t,setToggle:a}),(0,l.jsxs)("div",{className:"p-2 mb-2 grid justify-items-center",onClick:n,children:[(0,l.jsx)("div",{className:"text-center text-sm",children:"พร้อมเพย์"}),e?(0,l.jsxs)("div",{children:[(0,l.jsx)(i(),{src:"https://promptpay.io/".concat(e,".png"),alt:"พร้อมเพย์",width:"0",height:"0",className:"w-32 h-32"}),(0,l.jsx)("div",{className:"text-center text-xs",children:e})]}):(0,l.jsxs)("div",{className:"w-32 h-32 relative text-center",children:[(0,l.jsx)(i(),{src:"https://promptpay.io/0000000000.png",alt:"พร้อมเพย์",width:"0",height:"0",className:"w-full"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-red-700 font-bold bg-gray-200",children:(0,l.jsx)("div",{className:"p-2",children:"เพิ่ม PromptPay"})})]})]})]})};function u(e){let{open:t,setOpen:s,total:a,setPeople:n,setPay:r}=e,[i,m]=(0,o.useState)(""),[u,h]=(0,o.useState)([]),[p,g]=(0,o.useState)([]),[f,v]=(0,o.useState)(0),j=()=>{let e=[...u,{name:i,total:0}];y(e),m("")},b=e=>{let t=u.filter((t,s)=>s!==e);y(t)},y=e=>{g([]);let t=e.length,s=parseFloat(a.replace(/,/g,"")),l=s/t,i=Number(Math.ceil(100*(l===1/0?0:l))/100).toLocaleString(),o=e.map(e=>({...e,total:i})),c=Number(t).toLocaleString();n(c),r(i),h(o)},N=(e,t)=>{let s=new Set(p);s.add(e);let l=Array.from(s);g(l);let n=u.length-l.length,r=[...u];r[e].total=Number(t).toLocaleString();let i=l.reduce((e,t)=>e+parseFloat(r[t].total.replace(/,/g,"")),0);n<=0&&v(Number(i).toLocaleString());let o=parseFloat(a.replace(/,/g,"")),c=(o-i)/n,d=Number(Math.ceil(100*(c===1/0?0:c))/100).toLocaleString(),m=r.map((e,t)=>l.includes(t)?e:{...e,total:d});h(m)};return(0,l.jsx)(c.u.Root,{show:t,as:o.Fragment,children:(0,l.jsxs)(d.V,{as:"div",className:"relative z-10",onClose:s,children:[(0,l.jsx)(c.u.Child,{as:o.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-hidden",children:(0,l.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,l.jsx)("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-0",children:(0,l.jsx)(c.u.Child,{as:o.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,l.jsx)(d.V.Panel,{className:"pointer-events-auto w-screen max-w-md",children:(0,l.jsxs)("div",{className:"flex h-full flex-col overflow-y-scroll bg-white shadow-xl",children:[(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsx)(d.V.Title,{className:"text-lg font-medium text-gray-900",children:"รายชื่อคนจ่ายทั้งหมด"}),(0,l.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,l.jsxs)("button",{type:"button",className:"-m-2 p-2 text-gray-400 hover:text-gray-500",onClick:()=>s(!1),children:[(0,l.jsx)("span",{className:"sr-only",children:"Close"}),(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})})]}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)("div",{className:"flow-root",children:(0,l.jsx)("ul",{role:"list",className:"-my-6 divide-y divide-gray-200",children:0===u.length?(0,l.jsx)("div",{className:"text-center pt-4",children:"กรุณาเพิ่มรายชื่อ"}):u.map((e,t)=>(0,l.jsx)("li",{className:"flex py-2",children:(0,l.jsxs)("div",{className:"ml-4 flex flex-1 flex-col",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,l.jsx)("h3",{children:e.name}),(0,l.jsx)("input",{type:"text",className:"ml-4 text-right",value:e.total,onChange:e=>N(t,e.target.value.replace(/\D/g,""))})]})}),(0,l.jsx)("div",{className:"flex flex-1 items-end justify-end text-sm",children:(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)("button",{type:"button",className:"font-medium text-blue-600 hover:text-blue-500",onClick:()=>b(t),children:"Remove"})})})]})},"product_".concat(t)))})})})]}),(0,l.jsx)("div",{className:"border-t border-gray-200 px-2 py-6 sm:px-6",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"overflow-auto",children:(0,l.jsx)(x,{})}),(0,l.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm sm:text-base font-medium text-gray-900",children:[(0,l.jsx)("p",{children:"จำนวนเงินทั้งหมด"}),(0,l.jsxs)("p",{children:["฿ ",f||a]})]}),(0,l.jsx)("p",{className:"mt-8 text-sm sm:text-base",children:"เพิ่มรายชื่อ"}),(0,l.jsx)("div",{className:"mt-2 text-sm sm:text-base",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("input",{type:"text",value:i,onChange:e=>m(e.target.value),className:"flex-1 border-b border-blue-300 block w-full",placeholder:"ระบุชื่อ"}),(0,l.jsx)("button",{className:"flex-initial bg-blue-300 rounded-md px-2 py-1",onClick:j,children:"เพิ่มคน"})]})})]})]})})]})})})})})})]})})}let h=()=>{let[e,t]=(0,o.useState)("Edit Bill Name"),[s,a]=(0,o.useState)(!1);return(0,l.jsx)("div",{className:"bg-blue-500 p-2",children:s?(0,l.jsxs)("div",{className:"relative w-full max-w-xl mx-auto bg-white rounded-full h-14 lg:max-w-none",children:[(0,l.jsx)("input",{className:"rounded-full w-full h-14 bg-transparent py-0 sm:pl-6 pl-5 pr-16 sm:pr-32 outline-none border-2 border-blue-100 shadow-md hover:outline-none focus:ring-cool-indigo-200 focus:border-cool-indigo-200",placeholder:"Enter your bill name",value:e,onChange:e=>t(e.target.value)}),(0,l.jsxs)("button",{type:"submit",className:"absolute inline-flex items-center h-12 p-4 text-sm text-black transition duration-300 ease-in-out rounded-r-full rounded-bl-full outline-none right-1 top-1 bg-cool-indigo-600 sm:py-2 sm:px-6 sm:rounded-full sm:text-base sm:font-medium hover:bg-cool-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cool-indigo-500",onClick:()=>a(!1),children:[(0,l.jsx)("svg",{className:"h-6 w-5 flex-none text-blue-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"hidden sm:inline-block",children:" Save"})]})]}):(0,l.jsx)("div",{className:"bg-blue-500 text-white px-5 py-4 text-lg font-medium",onClick:()=>a(!0),children:e})})},p=[{id:1,name:"จำนวนเงินรวม",value:"- บาท"},{id:2,name:"จำนวนคนทั้งหมด",value:"- คน"}];function g(e){let{pay:t,people:s}=e,[a,n]=(0,o.useState)(p);return(0,o.useEffect)(()=>{let e=parseFloat(t.replace(/,/g,"")),l=parseFloat(s.replace(/,/g,"")),a=Number(e*l).toLocaleString();n([{id:1,name:"จำนวนเงินรวม",value:"".concat(a," บาท")},{id:2,name:"จำนวนคนทั้งหมด",value:"".concat(s," คน")}])},[t,s]),(0,l.jsx)("div",{className:"bg-white py-2 sm:py-3",children:(0,l.jsx)("div",{className:"mx-auto max-w-2xl px-2 lg:px-8",children:(0,l.jsx)("dl",{className:"grid grid-cols-2 gap-x-2 gap-y-4 text-center md:grid-cols-1 xl:grid-cols-2",children:a.map(e=>(0,l.jsxs)("div",{className:"mx-auto flex max-w-xs flex-col gap-y-1",children:[(0,l.jsx)("dt",{className:"text-base leading-7 text-gray-600",children:e.name}),(0,l.jsx)("dd",{className:"order-first text-2xl font-semibold tracking-tight text-gray-900 sm:text-3xl",children:e.value})]},e.id))})})})}var f=s(6372);let v=[{name:"หารกัน",value:1},{name:"เก็บตามสัดส่วน",value:2}];function j(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function b(e){let{selected:t,setSelected:s}=e;return(0,o.useEffect)(()=>{let e=localStorage.getItem("option");e&&s(+e)},[s]),(0,o.useEffect)(()=>{localStorage.setItem("option",t)},[t]),(0,l.jsx)("div",{children:(0,l.jsxs)(f.E,{value:t,onChange:s,className:"mt-4",children:[(0,l.jsx)(f.E.Label,{className:"sr-only",children:"เลือกวิธีการคำนวณ"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-1 lg:grid-cols-2",children:v.map(e=>(0,l.jsx)(f.E.Option,{value:e.value,className:e=>{let{active:t,checked:s}=e;return j(t?"ring-2 ring-blue-500 ":"",s?"bg-blue-50":"bg-white","cursor-pointer text-gray-900 shadow-sm group relative flex items-center justify-center rounded-md border py-3 px-4 text-sm font-medium hover:bg-blue-50 focus:outline-none sm:flex-1")},children:t=>{let{active:s,checked:a}=t;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.E.Label,{as:"span",children:e.name}),(0,l.jsx)("span",{className:j(s?"border":"border-2",a?"border-blue-500":"border-transparent","pointer-events-none absolute -inset-px rounded-md"),"aria-hidden":"true"})]})}},e.name))})]})})}let y="block w-full rounded-md border-0 px-2 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",N=e=>{let{total:t,setTotal:s,people:a,setPeople:n,pay:r,setPay:i}=e,o=e=>{let t=e.target.value.replace(/\D/g,""),l=Number(t).toLocaleString();s(l),d(l,a)},c=e=>{let s=e.target.value.replace(/\D/g,""),l=Number(s).toLocaleString();n(l),d(t,l)},d=(e,t)=>{let s=parseFloat(e.replace(/,/g,"")),l=parseFloat(t.replace(/,/g,"")),a=s/l,n=Number(Math.ceil(100*(a===1/0?0:a))/100).toLocaleString();i("".concat(n," บาท"))};return(0,l.jsx)("div",{className:"px-6",children:(0,l.jsxs)("div",{className:"pb-2",children:[(0,l.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"หารเท่ากันทุกคนนะ"}),(0,l.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"เราปัดเศษทศนิยมให้เหลือสูงสุดสองตัวจ้า"}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(0,l.jsxs)("div",{className:"sm:col-span-2 sm:col-start-1",children:[(0,l.jsx)("label",{htmlFor:"total",className:"block text-sm font-medium leading-6 text-gray-900",children:"จำนวนเงินทั้งหมด"}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("input",{name:"total",id:"total",value:t,onChange:o,className:y})})]}),(0,l.jsxs)("div",{className:"sm:col-span-2",children:[(0,l.jsx)("label",{htmlFor:"people",className:"block text-sm font-medium leading-6 text-gray-900",children:"จำนวนคนทั้งหมด"}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("input",{name:"people",id:"people",value:a,onChange:c,className:y})})]}),(0,l.jsxs)("div",{className:"sm:col-span-2",children:[(0,l.jsx)("label",{htmlFor:"pay",className:"block text-sm font-medium leading-6 text-gray-900",children:"แต่ละคนจ่าย"}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("input",{name:"pay",id:"pay",disabled:!0,readOnly:!0,value:r,className:"py-1.5 appearance-none border-none bg-transparent leading-tight focus:outline-none w-full text-center font-semibold text-xl sm:text-left"})})]})]})]})})};function w(){let[e,t]=(0,o.useState)(1),[s,a]=(0,o.useState)("0"),[n,r]=(0,o.useState)("1"),[i,c]=(0,o.useState)("0 บาท"),[d,m]=(0,o.useState)(!1);return(0,l.jsxs)("div",{className:"mb-20",children:[(0,l.jsx)(u,{open:d,setOpen:m,total:s,setPeople:r,setPay:c}),(0,l.jsx)(h,{}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 place-items-center",children:[(0,l.jsx)(x,{}),(0,l.jsx)(g,{pay:i,people:n}),(0,l.jsx)(b,{selected:e,setSelected:t})]}),1===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{total:s,setTotal:a,people:n,setPeople:r,pay:i,setPay:c}),(0,l.jsx)("div",{className:"px-6 text-xs text-right hover:cursor-pointer underline",onClick:()=>m(!0),children:"ระบุชื่อและจำนวนเงิน"})]})]})}function k(){return(0,l.jsxs)("div",{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:"Splitting bills with friends"}),(0,l.jsx)("meta",{name:"Drop some money",content:"Check, check, check, check that money"}),(0,l.jsx)("link",{rel:"icon",href:"".concat("/bill","/favicon.ico")})]}),(0,l.jsx)(w,{}),(0,l.jsx)("footer",{className:"m-auto px-6 py-2 text-center",children:(0,l.jsx)("div",{className:"border-t border-gray-900/10 pt-2",children:"Powered by Nummunoil"})})]})}}},function(e){e.O(0,[582,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);